<nb-card>
    <nb-card-header>
      Incidencias
    </nb-card-header>
    <nb-card-body>
        <form #peForm="ngForm" (ngSubmit)="(peForm.valid) ? [onSubmit(peForm.value),peForm.resetForm()] : null">

            <div class=row>
              <div class="col-sm-2 my-3">
                <input type="text" #pePlate="ngModel" required nbInput [pattern]="PLATEREGEX" placeholder="Matricula" [(ngModel)]="currentVe.plate" name="plate" class="form-control" [ngClass]="{'form-control-danger': pePlate.invalid && (pePlate.dirty || pePlate.touched || peForm.submitted)}">
              </div>
              <div class="col-sm-3 my-3">
                <input type="text" #peBrand="ngModel" required nbInput maxlength=150 placeholder="Marca" [(ngModel)]="currentVe.brand" name="brand" class="form-control" [ngClass]="{'form-control-danger': peBrand.invalid && (peBrand.dirty || peBrand.touched || peForm.submitted)}">
              </div>
              <div class="col-sm-3 my-3">
                <input type="text" #peModel="ngModel" required nbInput maxlength=150 placeholder="Modelo" [(ngModel)]="currentVe.model" name="model" class="form-control" [ngClass]="{'form-control-danger': peModel.invalid && (peModel.dirty || peModel.touched || peForm.submitted)}">
              </div>
              <div class="col-sm-2 my-3">
                <button type=submit class="btn btn-primary w-100" nbButton shape="rectangle">{{(currentVeEdit)?'Editar':'Añadir'}}</button>
              </div>
              <div class="col-sm-2 my-3">
                <button type=reset *ngIf="currentVeEdit" class="btn btn-secondary w-100" (click)="onButtonCancel($event); peForm.resetForm()" nbButton shape="rectangle">Cancelar Edición</button>
              </div>
            </div>
        </form>
        <br>
        <ng2-smart-table
        class=mt-3
            [settings]="settings"
            [source]="source"
            (edit)="onEditTable($event)"
            (delete)="onDelete($event)">
        </ng2-smart-table>
    </nb-card-body>
</nb-card>
